<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>The Delta Throttle &bull; View topic - JoyState_t</title>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>The Delta Throttle</h1>
		<p><br /><a href="http://deltathrottle.com/forums/">http://deltathrottle.com/forums/</a></p>

		<h2>JoyState_t</h2>
		<p><a href="http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=102">http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=102</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
		
			<div class="post">
				<h3>JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 16, 2015 12:55 am</strong></div>
				<div class="author">by <strong>M2RiverRat</strong></div>
				<div class="content">I am pretty familiar with Arduino UNO, I am having some issues with the JoyState_t though, I put the USBAPI.h and the USBCore.cpp and HID.cpp in the correct folder but, can't seem to get this to compile still.<br /><br />I put the files in this location.  C:\Program Files (x86)\Arduino\hardware\arduino\avr\cores\arduino<br /><br />follow sparkfuns good and I am receiving this error when I try to compile it.<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@f=4&amp;t=102&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>&nbsp; Arduino: 1.6.0 (Windows 7), Board: &quot;SparkFun Pro Micro 3.3V/8MHz&quot;<br /><br />DeltaThrottle.ino:2:1: error: 'JoyState_t' does not name a type<br />DeltaThrottle.ino: In function 'void setup()':<br />DeltaThrottle.ino:54:2: error: 'joySt' was not declared in this scope<br />DeltaThrottle.ino: In function 'void loop()':<br />DeltaThrottle.ino:196:3: error: 'joySt' was not declared in this scope<br />DeltaThrottle.ino:218:3: error: 'Joystick' was not declared in this scope<br />Error compiling.<br /><br />&nbsp; This report would have more information with<br />&nbsp; &quot;Show verbose output during compilation&quot;<br />&nbsp; enabled in File &gt; Preferences.<br /></code></dd></dl><br /><br />Please help! =)</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 16, 2015 2:14 am</strong></div>
				<div class="author">by <strong>M2RiverRat</strong></div>
				<div class="content">Continuing the adventure.  I decided to try and put the files in the C:\Users\...\Arduino\hardware\sparkfun\avr\cores\arduino folder to see it would compile, started to compile then had a few more errors, not sure if this means anything.<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@f=4&amp;t=102&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>Arduino: 1.6.0 (Windows 7), Board: &quot;SparkFun Pro Micro 3.3V/8MHz&quot;<br /><br />DeltaThrottle.cpp.o: In function `getForwardKinematic()':<br />/Arduino/DeltaThrottle.ino:111: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:111: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:112: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:112: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:113: undefined reference to `Serial'<br />DeltaThrottle.cpp.o:/Arduino/DeltaThrottle.ino:113: more undefined references to `Serial' follow<br />DeltaThrottle.cpp.o: In function `setup':<br />/Arduino/DeltaThrottle.ino:45: undefined reference to `Serial_::begin(unsigned long)'<br />DeltaThrottle.cpp.o: In function `loop':<br />/Arduino/DeltaThrottle.ino:203: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:203: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:204: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:204: undefined reference to `Serial'<br />/Arduino/DeltaThrottle.ino:205: undefined reference to `Serial'<br />DeltaThrottle.cpp.o:/Arduino/DeltaThrottle.ino:205: more undefined references to `Serial' follow<br />DeltaThrottle.cpp.o: In function `loop':<br />/Arduino/DeltaThrottle.ino:218: undefined reference to `Joystick'<br />/Arduino/DeltaThrottle.ino:218: undefined reference to `Joystick'<br />/Arduino/DeltaThrottle.ino:218: undefined reference to `Joystick_::setState(JoyState*)'<br />C:\Users\****-~1\AppData\Local\Temp\build5714182469938737666.tmp/core.a(USBCore.cpp.o): In function `SendInterfaces()':<br />C:\Users\******\Documents\Arduino\hardware\sparkfun\avr\cores\arduino\backup/USBCore.cpp:452: undefined reference to `CDC_GetInterface(unsigned char*)'<br />C:\Users\********-~1\AppData\Local\Temp\build5714182469938737666.tmp/core.a(USBCore.cpp.o): In function `ClassInterfaceRequest':<br />C:\Users\********-********\Documents\Arduino\hardware\sparkfun\avr\cores\arduino\backup/USBCore.cpp:370: undefined reference to `CDC_Setup(Setup&amp;)'<br />collect2: error: ld returned 1 exit status<br />Error compiling.<br /><br />&nbsp; This report would have more information with<br />&nbsp; &quot;Show verbose output during compilation&quot;<br />&nbsp; enabled in File &gt; Preferences.<br /><br /></code></dd></dl><br /><br />Looking forward to using this any help will be appreciated!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 16, 2015 2:59 am</strong></div>
				<div class="author">by <strong>M2RiverRat</strong></div>
				<div class="content">Okay, this will be my last post.  I moved the original files out and manage to get it to start to compile.  <br />Here is the error I got now.<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@f=4&amp;t=102&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>Arduino: 1.6.0 (Windows 7), Board: &quot;SparkFun Pro Micro 3.3V/8MHz&quot;<br /><br />C:\Users\********\Documents\Arduino\hardware\sparkfun\avr\cores\arduino\HID.cpp:19:22: fatal error: Platform.h: No such file or directory<br />&nbsp;#include &quot;Platform.h&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />compilation terminated.<br />Error compiling.<br /><br />&nbsp; This report would have more information with<br />&nbsp; &quot;Show verbose output during compilation&quot;<br />&nbsp; enabled in File &gt; Preferences.<br /><br /></code></dd></dl><br /><br />This seems to me to be in the HID.cpp folder, I don't know why it isn't reading the platform library.  Now I am getting into an area I am not so comfortable with.<br /><br />Again, any help will be great!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Feb 16, 2015 3:47 am</strong></div>
				<div class="author">by <strong>M2RiverRat</strong></div>
				<div class="content">OKAY!!! So, you can NOT use the newest version you have to use 1.0.6!!<br /><br />follow this guide but use the older version.<br /><!-- m --><a class="postlink" href="https://learn.sparkfun.com/tutorials/pro-micro--fio-v3-hookup-guide">https://learn.sparkfun.com/tutorials/pr ... okup-guide</a><!-- m --><br /><br />This is the one he linked in the build guide, so ya, just use the 1.0.6, the newest one just doesn't read libraries correctly yet.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Feb 17, 2015 3:33 am</strong></div>
				<div class="author">by <strong>zdayton</strong></div>
				<div class="content">It sounds like you got it working then? I will have to check which version I am on, but thank you for posting the fix.  Are you just working in software or do you have hardware as well?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Feb 17, 2015 5:26 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">Curious after reading this. I opted for a different Arduino board for my build and picked up one of these: <!-- m --><a class="postlink" href="http://www.amazon.com/gp/product/B00761NDHI/ref=oh_aui_detailpage_o02_s00?ie=UTF8&amp;psc=1">http://www.amazon.com/gp/product/B00761 ... UTF8&amp;psc=1</a><!-- m --><br /><br />This will be my first time working with Arduino, so forgive the newbie question. Given the issues presented above, do you expect I'll have problems compiling the sketch for the different hardware? I sort of assumed that it should work fine, but now I'm wondering if I'll need to do some futzing or if the sparkfun board had more going for it than it's size? I purchased the nano board instead because of it's cheaper price, the fact it has headers already installed (no soldering required on the board itself for wire hookups), and the USB plug looked to be more secure (I saw a complaint that the sparkfun's plug felt flimsy). The nano is bigger at 1.7&quot; long compared to 1.3&quot;. I placed a 3d model in the base and it looks like it should still fit. I'll probably try mounting it with standoffs to raise it over the pivot mounts for more clearance.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Feb 18, 2015 3:11 am</strong></div>
				<div class="author">by <strong>zdayton</strong></div>
				<div class="content">It looks like the board you got on Amazon has an ATmega328 on it, which does not have a USB controller on it.  I don't think you will be able to get it working on that board.  The chip has to be the Atmel ATmega32U4.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Feb 18, 2015 4:32 am</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">Thanks for the heads up. I guess I assumed that with the built in USB interface it was going to be fine. Thankfully they surprisingly hadn't fulfilled the order yet so I was able to cancel. Going to try this as an alternative - <!-- m --><a class="postlink" href="http://www.ebay.com/itm/321663308761">http://www.ebay.com/itm/321663308761</a><!-- m --><br /><br />Looks to be similar to the sparkfun and have the correct chip. I'll let you know how it goes. If it doesn't work out I'll just go ahead and order a sparkfun board and find some other use for these <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" />.<br /><br />I assume the comment about the version to use above referred to the Arduino IDE, correct? I downloaded it this afternoon.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Feb 21, 2015 8:47 am</strong></div>
				<div class="author">by <strong>M2RiverRat</strong></div>
				<div class="content">I'm a mechanical engineer student, so i play around with this stuff often. =)</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: JoyState_t</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Feb 21, 2015 8:48 pm</strong></div>
				<div class="author">by <strong>M2RiverRat</strong></div>
				<div class="content">Pretty sure Sparkfun is the only ones that make the board you need.<br /><br /><!-- m --><a class="postlink" href="https://www.sparkfun.com/products/12587">https://www.sparkfun.com/products/12587</a><!-- m --><br /><br />a teensy may work but it is the same price as the pro micro.<br /><br />They said it was back ordered I got it a week later.<br /><br />Good luck</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>