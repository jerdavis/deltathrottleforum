<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>The Delta Throttle &bull; View topic - Thoughts on redesign for Hall Effect sensors</title>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>The Delta Throttle</h1>
		<p><br /><a href="http://deltathrottle.com/forums/">http://deltathrottle.com/forums/</a></p>

		<h2>Thoughts on redesign for Hall Effect sensors</h2>
		<p><a href="http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=110">http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=110</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
		
			<div class="post">
				<h3>Thoughts on redesign for Hall Effect sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 21, 2015 4:42 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">One of the big problems I ran into in building this with aluminum is handling the potentiometer D shaft. I'm really new at machining and I was having a hell of a time finding information on how to reasonably create a D profile hole in an aluminum shaft. With the 3d printed part you just print it as a D. Boring out a D profile in an aluminum shaft is not a trivial task. I hacked my way around it by using a set screw, but it's not ideal.<br /><br />This, combined with the possible issues of using the potentiometer shaft as a load bearing component, had me thinking of other ways to handle this. I'd seen some information about hall effect sensors and have been researching those trying to find an affordable solution. Many of those chips, particularly those meant as absolute rotary encoders, aren't inexpensive and the breakout board or development boards with them installed are either a DIY project or around $20 each. That'd be a pretty big cost jump.<br /><br />But today I came across this: <!-- m --><a class="postlink" href="http://www.mycockpit.org/forums/showthread.php?t=22267">http://www.mycockpit.org/forums/showthread.php?t=22267</a><!-- m --><br /><br />This guy is replacing a potentiometer with a simple hall effect encoder chip (cost around $1.25 each) and two magnets mounted to the shaft. It's a simple 3 pin connection like a potentiometer and a simple solution, no more complicated board really required. It covers 180 degrees of rotation, far more than the around 90 degrees required by a delta throttle pivot arm. <br /><br />So my new design will likely be a solid 3/8&quot; shaft with a 3/8&quot; x 1/4&quot; bronze sleeve bearing in each upright for the shaft to ride on. The pivot arm will bolt down securing the right side. a 3/8&quot; ID x 1/2&quot; OD x 3/4&quot; LG sleeve bearing will be placed on the shaft for the spring to ride on. Even though this exceeds the maximum shaft OD for the springs there's plenty of clearance for our required range of motion. the 3/8&quot; shaft will extend on the sensor side by 1/4&quot;. I'll machine my own shaft collar to secure this side including pockets for 2 1/4&quot;x1/4&quot; neodymium magnets.<br /><br />With all the extra bearings, sensor and magnets this will be a bit more than a potentiometer's cost, but not by a lot and will give a secure and smooth operation with a high degree of accuracy and little to wear out.<br /><br />Thoughts?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Thoughts on redesign for Hall Effect sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 21, 2015 8:52 pm</strong></div>
				<div class="author">by <strong>zdayton</strong></div>
				<div class="content">To make a D shaped hole in aluminum you need a broach.  Basically shoving a D shaped cutter through a hole.  In this case I think you would be better to use a woodruff key and a set screw.  <!-- m --><a class="postlink" href="http://www.mcmaster.com/#machine-keys/=werl1o">http://www.mcmaster.com/#machine-keys/=werl1o</a><!-- m --> <br /><br />I was actually doing some experiments with an Allegro hall effect rotation sensor.  It was SOC, so just an i2c output and totally programmable.  It looked really cool but I could never get the Allegro people to send me the full data sheet.  They totally blew me off, maybe just because the quantity i wanted wasnt worth their time, i don't know.  Here are pics of my test rig though.<br /><br /><img src="http://i.imgur.com/bplFb31.jpg" alt="Image" /><br /><br /><img src="http://i.imgur.com/l2F7ejS.jpg" alt="Image" /><br /><br />I have gone back and forth on hall effect sensors a little bit.  They are obviously associated with higher quality in people's minds, but to be honest i'm not sure if that is true.  There are definitely some positives.  They are non contact so there is no wear.  But s high quality pot has 2% linearity, infinite resolution, and a cycle life of 2 million cycles.  And they are much easier to implement.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Thoughts on redesign for Hall Effect sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 21, 2015 9:20 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">Certainly easier for a 3d printed or other plastic design. Were you able to get much working or did the lack of data sheets hold things up? I was looking at a number of absolute encoders that looked a bit like that. I couldn't find an affordable ready-to-go board though and am not quite ready to take on board design and surface mount soldering <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" />.<br /><br />I'm excited by the simpler design. It doesn't have the ability to encode more than 180 degrees of rotation, but for this application it seems like we don't need more than 90 degrees. I'm assuming from the limited info I've seen and my limited understanding that connected to the 10bit ADC on the Pro Micro the resolution should be pretty high as well. Not the highest a hall effect sensor can provide, possibly less than a high quality pot from what you're saying. I think I'll give it a try though. It will only set me back around $20 for the magnets and sensors from digikey. If it works it'll make my build a lot easier.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Thoughts on redesign for Hall Effect sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Mar 21, 2015 9:35 pm</strong></div>
				<div class="author">by <strong>zdayton</strong></div>
				<div class="content">Encoders are really expensive.  It would cost a fortune to get encoders with the same resolution as the potentiometer and ADC.  For the hall effect sensor, i got it working and detecting rotation, but at poor resolution. I need the full data sheet to know how to properly program the chip and get the correct resolution, the part I am missing is the register descriptions for changing all the settings and stuff.</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>