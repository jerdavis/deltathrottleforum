<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>The Delta Throttle &bull; View topic - Force feedback throttle</title>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>The Delta Throttle</h1>
		<p><br /><a href="http://deltathrottle.com/forums/">http://deltathrottle.com/forums/</a></p>

		<h2>Force feedback throttle</h2>
		<p><a href="http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=134">http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=134</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>2</strong> of <strong>3</strong></div>
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Sep 28, 2015 7:06 am</strong></div>
				<div class="author">by <strong>KStolp</strong></div>
				<div class="content">It would seem its been a while since i posted, its amazing how time goes by when your waiting for Parts and Working on other things such as Printer improvements.<br /><br />So a update on my Delta Controller <br />My new Prints have better gear position and less slip, still working on the 2 Build Paths Stepper and Brush.<br />I found that the A1304's are not as stable as i would like them to be, most likely due to the fact that the i have not built the best system for mounting the IC's perfectly in the center of the Magnets. I might go back to these but they are also limited to only 180.<br /><br />In my Stepper build i moved to the MLX90363's giving the IC the ability to read 360, i build the new model around a Magnet on a Gear to allow the system to pick up 200+ degrees in the less then 180 movement that the Lower Arms can move. A major slow down was the SPI comm with the MLX's the library i found was not usable, and had to spend a bunch of time learning SPI and Writing a working script set for them. but less on the messy code and more on the hardware.<br /><br />My Stepper moves great and seemed like the best way to go clean and fast moving, until i tested the counter force/centering function which lead to a very noisy and locking up arm when it stopped the step requiring more base force to start the easy movement again. At least i found this with a 5V Stepper i picked up, i will be finishing a 12V stepper test in the next few days which will lead to ether a dead end or a finished base. i personally dont want to have a controller that is always making grinding noises at me when i  am using it, at least with brush motors you only get a light whine when under load.<br /><br />So i said over a month ago, i have added pictures. they are not complete controller build, and with the Stepper i moved to 1/3 to test gears, motor, and hall effect. Once i have the 12V tested, i will the printing out and testing the new gearbox and hall effects on the brush motors one of the 2 will win out then i can move on to the Upper Arms and then Handel.<br /><br />Ask Question i will do my best to answer them</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Oct 17, 2015 12:06 am</strong></div>
				<div class="author">by <strong>mike43110</strong></div>
				<div class="content">Once this is completed, do you mind releasing your drawings and code?<br />I would love to do this myself. That being said - the parts I had before have turned into parts for my work : / Now to ship and wait again!<br /><br />What is the reduction on the stepper motors? <br />Are you using microsteps or full steps?<br /><br />It looks great! well done!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Oct 25, 2015 1:52 am</strong></div>
				<div class="author">by <strong>zdayton</strong></div>
				<div class="content">Any update? Looks really awesome.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Oct 27, 2015 3:55 am</strong></div>
				<div class="author">by <strong>KStolp</strong></div>
				<div class="content">Updates, after running out of filament and trying to print PLA (to reduce warping) i busted a Nozzle on my printer. not going in to details on that.<br />While my printer was down i fixed ABS Warping by move the heated bed form 12V to 120V and adding build chamber walls.<br /><br />Currently i have bee working with 15.3:1 gearing and when i was testing the stepper i was working with Microsteps.<br />I have moved back to brush as the Stepper by default want to lock in position when not moving, i could send a command to depower after move is complete but this does not solved the clicking that the stepper makes anyways.<br /><br />I have narrowed down to 2 motors a 4v to 12v motor or a 5v motor, both seem to work well in my corner tests but had to deal with the printer yesterday i finally printed out the Base Plate for 5V motors and soon print out the 12v to allow me to test both at the same time (the 12V will be tested at 5V to start, i am trying to keep it running only on USB but i think i will have to change that plan soon.) not much other to update really. i hope i can find the time to build out the unit the test both with the same control unit. and have a major update next week.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Oct 27, 2015 4:06 am</strong></div>
				<div class="author">by <strong>KStolp</strong></div>
				<div class="content">I guess i forgot about the Parts list, STL's and Code<br />Yes i do plan on it for when i have a working bottom half</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Nov 05, 2015 8:13 am</strong></div>
				<div class="author">by <strong>mike43110</strong></div>
				<div class="content">Would ask for drawing files if possible <img src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />I'm pretty interested in seeing how it was done and adapting it to a joystick.<br /><br />The fun part will be once this is all done is to try and get a USB descriptor right for proper ffb support. It would be amazing if ffb information could be translated to work with the delta throttle. From what I have seen though... it looks to be incredibly difficult.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Nov 08, 2015 8:30 am</strong></div>
				<div class="author">by <strong>KStolp</strong></div>
				<div class="content">My Unit is Ready and i have been working on the code this week.<br /><br />the MLX Library (Hall Effects) was a bit of a pain to get up and running and even more so to deal with getting data from all 3 sensors.<br />while i was working on the MLX Library i setup a Delta Code Library to make it a simple add in if i wanted to change builds.<br />Today was updating Arduino 1.66 to take advantage of the new USB Library. how ever after sorting out the HID i ran in to a new Snag... <br /><br />As it turns out the USB Library used Delay's and the SPI comm for the MLX Library i built requires very specific timing, and the delays in the USB Code throw the whole things off....<br /><br />So now i need to test out a build on the Due to use the Schedule library but i think i will work on that after as it was my plan to see if i could do more with a the DUE later on, and work on making a master and slave Pro Micro to allow the Slave to do all the Math and Motor controls for the Delta Controller and the Master will deal with the buttons and USB Code.<br /><br />On other notes with the Force Feed Back, i think the HID info will be the easy part as we might be able to base it off other controllers like the Microsoft FFB Joystick at least for sending and receiving the FFB Data. for dealing the the actual movements the Delta Code Libary i put together does both ForwardKinematic and InverseKinematic, it should be easy to feed a XYZ shift from current in to the InverseKinematic and get a position where the arms should be at to create the shake or shift needed with out breaking the controller.<br /><br />All the might turn out to be to much for the Micro in the end but its a great place to start and move to a stronger controller if needed later on. Tomorrow i should have actual testing completed.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Nov 08, 2015 12:37 pm</strong></div>
				<div class="author">by <strong>Ghostpilot</strong></div>
				<div class="content">Looking good in the picture, and it also sounds like you have a plan for how to tackle the obstacles ahead too.<br />I'm afraid I can't be of much assistance with code nor electronics, but if you need to switch from printed plastic to milled aluminium parts at a later stage, I can maybe help out.<br />Keep up the good work!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Nov 09, 2015 2:16 am</strong></div>
				<div class="author">by <strong>KStolp</strong></div>
				<div class="content">Thanks for the encouragements.<br />I was able to get my Dual Pro Micros to work for some great test and calibration of the controller today, it moved great and the motors center the unit perfectly.<br />But the new USBAPI from ardunio suddenly stopped working for me, and keeps crashing so my next major problem will be debugging that feature.<br /><br />There are a whole bunch of thing i wish i could try to build out in to the controller or other units, but i will have to wait for RSI to allow access to reading ship status out side of the application to build more Flight Sim like gear.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Force feedback throttle</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon Nov 09, 2015 2:22 am</strong></div>
				<div class="author">by <strong>zdayton</strong></div>
				<div class="content">Is there a lot of friction with that amount of gearing?</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>2</strong> of <strong>3</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>