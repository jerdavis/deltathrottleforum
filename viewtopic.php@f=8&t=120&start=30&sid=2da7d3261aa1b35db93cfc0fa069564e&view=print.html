<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>The Delta Throttle &bull; View topic - Aluminum Built - Actobotics / Hall Sensors</title>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>The Delta Throttle</h1>
		<p><br /><a href="http://deltathrottle.com/forums/">http://deltathrottle.com/forums/</a></p>

		<h2>Aluminum Built - Actobotics / Hall Sensors</h2>
		<p><a href="http://deltathrottle.com/forums/viewtopic.php?f=8&amp;t=120">http://deltathrottle.com/forums/viewtopic.php?f=8&amp;t=120</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>4</strong> of <strong>10</strong></div>
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Apr 21, 2015 2:17 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content"><blockquote><div><cite>zdayton wrote:</cite>This is important because if you put this magnet in the center of a shaft and rotate it, there is not any change of the magnetic field relative to the sensor.  I know because I made this exact mistake.  <img src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /> One other important thing I learned is that the output of the sensor is affected by the rotation of the magnet as well as the position of the magnet relative to the sensor.  This becomes important if the sensor is not exactly lined up with the center of the shaft (It won't be) because the rotation of the magnet gets compounded with the change in position relative to the sensor, and the measurements get crappy.  What I found was that I got the cleanest measurements when I intentionally offset the magnet by a large amount, and lined up the poles so the rotation of the magnet would not affect the sensor, only the position of the magnet.<br /></div></blockquote><br /><br />I haven't gotten to testing my sensors in actual use yet, so I'm not sure what my findings will be, but I'm a little surprised you had issues with having the sensor in-line with the magnet on the shaft. Did you get any diametrically opposed magnets to try (with the N and S poles along the face of the cylinder)? All examples of the angular encoders I thought you were using seem to suggest this is how you set things up, I didn't realize they'd be that sensitive to being off-center slightly.<br /><br />It's an interesting idea to mount the magnet in the pivot arm, I hadn't considered that. Where will you mount your sensor? I'm interested in seeing your new designs! My thought for using an off-center magnet with the ratiometric sensors was to mount them in my shaft collar. My goal then was to mount the sensor towards the base, allowing the rotation of the shaft to move the magnet closer to the sensor. I think this should work to give me clean output, but I still need to set up and test it. The other option would be to have the sensor inline with the center of rotation of the shaft, and have the shaft collar mounted magnets rotate around it. That's more in-line with the Bic pen example a few of us have referenced.<br /><br />I also got a couple of <a href="http://www.analog.com/en/products/sensors/magnetic-field-sensors/ada4571.html" class="postlink">samples of these</a> that I may try out if I can fab some breakout boards for them. You can request free samples of those parts, though you can only get 2 at a time.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Apr 21, 2015 2:31 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">This has been a great thread, awesome work SC-Maik! I'm curious as to what the price tag on your new BOM is with those off the shelf parts? I'd been planning to just use bronze sleeve bearings rather than ball bearings for my shafts to try to keep costs down. I may revisit that and see if I can source affordable 3/8&quot; ID low profile bearings somewhere. I'm also interested to see how your hall effect sensor testing goes. Will the ratiometric sensors I think you're using give good output inline with the magnet like that? Have you done any testing? That setup looks like it'd work better with the angle encoding sensors so long as you have the right magnets.<br /><br />I'm inspired by your plate design as well. I think I'll go back to the drawing board on mine and crib a few things. In particular, I'd still been adding the slot pockets to set the fins in. I did this initially to try to help with alignment. With more experience under my belt I don't think this is needed, so long as I can consistently drill and tap the holes in the fins themselves for mounting. I may adopt slotted holes for the base plate as well to provide a small amount of adjustment in positioning, this would help getting alignment smooth for the shaft so that there isn't any binding on the bearings, at least on 2 planes. I'll mock up some changes and post them later on.<br /><br />Would you be interested in setting up a GitHub project to publish your work to? I forked zdayton's project for my code tweaks and as a place to upload my design changes.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Apr 21, 2015 7:44 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">Still typing on my phone ... I will join the conversation tomorrow once I replace my monitor...<br /><br />But I had to share my new toys <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/20150421_181028_zpsfog0er4r.jpg" alt="Image" /><br /><br />They are so small<br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/20150421_181118_zpstgkn6puw.jpg" alt="Image" /><br /><br />*Bushings on pics have 5/8&quot; OD. Didn't have 1/2&quot; OD with me.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Apr 21, 2015 8:55 pm</strong></div>
				<div class="author">by <strong>Cybertraxs</strong></div>
				<div class="content">Nice Maik!!  SC-Maik sorry to hear about the monitor, if you were nearby I would lend you one until you got a replacement.<br /><br />Zdayton, amazing creation and development!!<br /><br />Zdayton your saying there is drift with use and using the hall effect sensor it will have to be realigned time to time?  Was this with the plastic parts?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Apr 22, 2015 6:00 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">Thank you <span style="font-weight: bold">Cybertraxs</span>. A friend of mine was kind enough as you to lend me a monitor until mine gets fixed (5%) or replaced (95%).<br /><br />Back to Hall sensors.<br />I have no previous experience with hall sensors, or any kind of sensor in that kind of level... yet.<br />I've based my redesign after reading zillions posts in SimHQ, starting with this <a href="http://simhq.com/forum/ubbthreads.php/topics/3225807/all/DIY_hall_sensor.html" class="postlink">one</a>.<br />My sensors (Allegro a1302) will arrive by the end of this week.<br /><br /><span style="font-weight: bold">@zdayton</span><br />The magnet you have posted is the one I was familiar with. I wasn't aware of diametrically magnets existence until last week.<br />Based on my forum searching, there is no way to get magnetic field change by putting your magnet on the center of the shaft and rotating it, because only one pole (S or N) will be near sensor.<br />On the other hand a diametrically magnet has both poles aligned to sensor, so when shaft turns, polarity changes relative to the sensor.<br />If you check above post I've linked, two square magnets are used.<br /><br /><img src="http://simhq.com/forum/files/usergals/2014/11/full-37484-90675-1061108610831083_107610741072_1084107210751085108010901072.jpg" alt="Image" /><br /><br />N/S - Sensor - S/N and when shaft (Bic pen) rotates, poles rotate around sensor. <br /><br />Same effect can be accomplished with my kind of magnet.<br /><br /><img src="http://simhq.com/forum/files/usergals/2014/11/full-37484-90674-1061108610831083_1086107610801085_108410721075108510801090.jpg" alt="Image" /><br /><br />More about it <a href="http://simhq.com/forum/ubbthreads.php/ubb/printthread/Board/81/main/383161/type/thread" class="postlink">here</a>.<br /><br /><a href="http://simhq.com/forum/ubbthreads.php/topics/3226774/Re:_DIY_hall_sensor_...#Post3226774" class="postlink">Here</a> comes the problem with alignment.<br /><br />Thank you for taking the time for redesigning pivot arms. You gave me ideas. I was only thinking of cutting arm in two for printing vertically, never the way you did it. Back to the design table.<br /><br /><span style="font-weight: bold">@jeruw</span><br />I have to admit that is not a cheap. Off the self parts are quite expensive, a lot of sources with additional shipping costs, custom fabricated parts etc etc. I've spent 60€ for Actobotic parts only. Looking forward of your approach.  <br />I am glad my base design inspired you. Your build inspired me to redesign mine.<br />Setting up a GitHub page ongoing.<br /><br />I am off to walk my two huskies, one of them is getting quite vocal <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /> and then I am off to work.<br /><br />Laters everyone!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Apr 22, 2015 1:20 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">Another must read regarding hall sensors<br /><br /><a href="http://www.jpfiles.com/hardware/uni_stick.pdf" class="postlink">http://www.jpfiles.com/hardware/uni_stick.pdf</a></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Apr 22, 2015 2:29 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">I am so excited!<br /><br />My designs are coming to life...<br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/20150422_172247_zpstrkfazdh.jpg" alt="Image" /><br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/20150422_172315_zpsjaehntyr.jpg" alt="Image" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed Apr 22, 2015 11:23 pm</strong></div>
				<div class="author">by <strong>Cybertraxs</strong></div>
				<div class="content">The build is looking great!!!<br /><br />Was reading up on Amazing Magnets new product Polymagnets and had me wondering how these polymagnets would work with the hall effect sensor?  I'll order a few with the other magnets and experiment with them<br /><br /><img src="http://www.amazingmagnets.com/images/Product/swatch/978.jpg" alt="Image" /><br /><br /><a href="http://www.amazingmagnets.com/c-162-attach-polymagnets.aspx" class="postlink">http://www.amazingmagnets.com/c-162-attach-polymagnets.aspx</a></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Apr 23, 2015 9:07 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content"><blockquote><div><cite>Cybertraxs wrote:</cite>The build is looking great!!!<br /><br />Was reading up on Amazing Magnets new product Polymagnets and had me wondering how these polymagnets would work with the hall effect sensor?  I'll order a few with the other magnets and experiment with them<br /><br /><img src="http://www.amazingmagnets.com/images/Product/swatch/978.jpg" alt="Image" /><br /><br /><a href="http://www.amazingmagnets.com/c-162-attach-polymagnets.aspx" class="postlink">http://www.amazingmagnets.com/c-162-attach-polymagnets.aspx</a></div></blockquote><br /><br />I don't know if that kind of magnet will work with a hall sensor.<br /><br />I was lucky enough to find the only! (based on google) diametrically magnetised rod in Greece, in a store near me. Dimensions D4mm/L10mm. I will go get some tommorow.<br /><br />Regarding sensors, I will also order Allegro a1324 (sensitivity 5.0 mV/G), a1325 (3.125 mV/G) and a1326 (2.5 mV/G) to experiment with.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Aluminum Built - Actobotics / Hall Sensors</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Apr 23, 2015 4:20 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">Excited to see your continuing progress. I'm going to cut some longer shafts tonight to start testing sensors on my first delta build. I still need to order flange bearings and other parts for the second build.<br /><br />I had a few new toys show up this week as well. I ordered a couple of different end mills for etching/milling PCBs.<br /><br />30 degree bits for scoring or engraving<br /><!-- m --><a class="postlink" href="http://www.ebay.com/itm/151386398234?_trksid=p2057872.m2749.l2649&amp;ssPageName=STRK%3AMEBIDX%3AIT">http://www.ebay.com/itm/151386398234?_t ... EBIDX%3AIT</a><!-- m --><br /><br />0.50mm (.0197&quot;) 2 FLUTE MICRO CARBIDE ENDMILL<br /><!-- m --><a class="postlink" href="http://www.ebay.com/itm/381205184640?_trksid=p2057872.m2749.l2648&amp;ssPageName=STRK%3AMEBIDX%3AIT">http://www.ebay.com/itm/381205184640?_t ... EBIDX%3AIT</a><!-- m --><br /><br />I'll pick up some blank copper clad and see what I can do. I want to design and cut a small breakout board for testing some sensors.<br /><br />Besides the analog devices sensors I'd ordered, I also requested samples from AMS. You can request 3 of each of 3 different products per month for free for sample purposes. Here's the listing page. <!-- m --><a class="postlink" href="http://ams.com/eng/Products/Position-Sensors/Magnetic-Rotary-Position-Sensors">http://ams.com/eng/Products/Position-Se ... on-Sensors</a><!-- m --><br /><br />I'll have a couple of TSSOP-14 and SOIC-8 chips to test with. I'll need to go back over the data sheets and see which I'm more interested in working with. This one in particular is interesting - <!-- m --><a class="postlink" href="http://ams.com/eng/Products/Position-Sensors/Magnetic-Rotary-Position-Sensors/AS5600">http://ams.com/eng/Products/Position-Se ... ors/AS5600</a><!-- m --><br /><br />It's worth noting that they also have magnets and interesting hall effect joystick modules that might make for a good hat switch. If you don't want to experiment with different sensors you could get 3 of the sensor you want to use, 3 magnets, and a couple joystick modules.<br /><br />That chip provides a linear analog output of 0-360 degrees, but that range can be programmed to a user specified range, either a full 360 degrees, 180, 90 or 45 degrees. The 90 degree range would be more than enough movement for a pivot arm. I think that'd provide enough accuracy and be fairly easy to implement. It's also a less expensive component when it comes time to buy.</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>4</strong> of <strong>10</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>