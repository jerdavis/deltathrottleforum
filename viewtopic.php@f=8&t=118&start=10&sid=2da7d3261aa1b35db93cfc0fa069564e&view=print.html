<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>The Delta Throttle &bull; View topic - Compiler Issues</title>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>The Delta Throttle</h1>
		<p><br /><a href="http://deltathrottle.com/forums/">http://deltathrottle.com/forums/</a></p>

		<h2>Compiler Issues</h2>
		<p><a href="http://deltathrottle.com/forums/viewtopic.php?f=8&amp;t=118">http://deltathrottle.com/forums/viewtopic.php?f=8&amp;t=118</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>2</strong> of <strong>2</strong></div>
		
			<div class="post">
				<h3>Re: Compiler Issues</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jun 14, 2015 5:37 pm</strong></div>
				<div class="author">by <strong>mike43110</strong></div>
				<div class="content"><blockquote><div><cite>Nemesisghost wrote:</cite>You define the reports in the HID Descriptor.  I know there are some limitations on how large each report can be, which is one of the reasons I didn't group the axes(something that's not entirely necessary, but is ascetically pleasing in the joystick properties screen).  I didn't do multiple reports just because 1 was enough to do what I needed.  But it was something I was looking into so I could group my axes.<br /><br />Here's a <a href="http://eleccelerator.com/tutorial-about-usb-hid-report-descriptors/" class="postlink">good tutorial</a> on how to build HID descriptors &amp; how to align the bits to match.  It has a link to the official USB HID documentation, which itself has an HID writing app.  That app is what I used to build mine.</div></blockquote><br /><br />Thanks!<br /><br />I am still going to be 2 months before I can start on my throttle thanks to shipping to my shitty ass country...<br /><br />So I started to design a joystick to pair it with! Let's face it - self made is better when you can make sure that the parts are what you want. Though finding nice integrated HAT switches is a pain.<br /><br />I did find a nice 8-way on mouser but I wanted to make sure I could actually set up all the buttons before I actually went and did it... 2 8-ways, 2 4-ways with centre push and I am already out of space if I want to have a 16-bit axis. 3 axis in one report and buttons in the other is my plan.<br /><br />Figuring out how to do twist on the joystick was quite an interesting problem though! Thrust bearings are my friend for that.<br /><br />I decided to put twist inside the handle as to minimise the gimbal size though. Now I am waiting on the x-ref update for fusion 360 before I continue. X-refs are really important for my workflow.<br /><br />Getting further OT: Should I shove the files onto github when done? i.e. Would anyone like a joystick to go with the throttle?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Compiler Issues</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jan 07, 2016 2:04 am</strong></div>
				<div class="author">by <strong>Thovthe</strong></div>
				<div class="content"><blockquote><div><cite>mike43110 wrote:</cite>Getting further OT: Should I shove the files onto github when done? i.e. Would anyone like a joystick to go with the throttle?</div></blockquote><br /><br />I think it would be good to get everyone's related designs and code on github. Anything that is directly to do with the throttle should be in forks or merged in.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Compiler Issues</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jan 07, 2016 4:54 am</strong></div>
				<div class="author">by <strong>Thovthe</strong></div>
				<div class="content">I'm throwing this out there just in case anyone want's to lend a novice a hand (though I understand if not). I keep getting this error when I try to compile the sketch with Arduino IDE 1.6.7:<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@f=8&amp;t=118&amp;start=10&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>In file included from C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\USBAPI.h:38:0,<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\CDC.cpp:19:<br /><br />C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\CDC.cpp:54:71: error: 'USB_EP_SIZE' was not declared in this scope<br /><br />&nbsp; D_ENDPOINT(USB_ENDPOINT_OUT(CDC_ENDPOINT_OUT),USB_ENDPOINT_TYPE_BULK,USB_EP_SIZE,0),<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br /><br />C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\USBCore.h:272:22: note: in definition of macro 'D_ENDPOINT'<br /><br />&nbsp; { 7, 5, _addr,_attr,_packetSize, _interval }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\CDC.cpp:55:71: error: 'USB_EP_SIZE' was not declared in this scope<br /><br />&nbsp; D_ENDPOINT(USB_ENDPOINT_IN (CDC_ENDPOINT_IN ),USB_ENDPOINT_TYPE_BULK,USB_EP_SIZE,0)<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br /><br />C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\USBCore.h:272:22: note: in definition of macro 'D_ENDPOINT'<br /><br />&nbsp; { 7, 5, _addr,_attr,_packetSize, _interval }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\CDC.cpp:64:16: error: 'bool CDC_Setup' redeclared as different kind of symbol<br /><br />&nbsp;bool CDC_Setup(USBSetup&amp; setup)<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />In file included from C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\CDC.cpp:19:0:<br /><br />C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\USBAPI.h:158:8: error: previous declaration of 'bool CDC_Setup(Setup&amp;)'<br /><br />&nbsp;bool&nbsp; &nbsp;CDC_Setup(Setup&amp; setup);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />C:\Users\Tho1efX\Desktop\arduino-1.6.7\hardware\arduino\avr\cores\arduino\CDC.cpp:64:16: error: 'USBSetup' was not declared in this scope<br /><br />&nbsp;bool CDC_Setup(USBSetup&amp; setup)<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />exit status 1<br />Error compiling.</code></dd></dl><br /><br />PS: I replaced the three files with files made from the code here.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Compiler Issues</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Jun 17, 2016 11:45 pm</strong></div>
				<div class="author">by <strong>Khan</strong></div>
				<div class="content">Ok, complete noob here, but... I've been having some issues with the older version of arduino so I tried to use this on the newer version.<br />Now I must say I am a complete layman when it comes to coding and an illiterate at C++ so I really need the &quot;grab my hand and walk me through this&quot; kind of help.<br /><br />When I try to compile the code, I get this<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@f=8&amp;t=118&amp;start=10&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;view=print.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>Arduino: 1.6.8 (Windows 10), Board: &quot;SparkFun Pro Micro, ATmega32U4 (3.3V, 8 MHz)&quot;<br /><br />D:\Impressora 3D\DeltaThrottle-master\Code\DeltaThrottle\DeltaThrottle.ino: In function 'void loop()':<br /><br />DeltaThrottle:103: error: 'Joystick' was not declared in this scope<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::XAXIS, map(xVal, -100, 100, 0, 255));<br /><br />&nbsp; &nbsp; &nbsp;^<br /><br />DeltaThrottle:103: error: 'Joystick_' has not been declared<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::XAXIS, map(xVal, -100, 100, 0, 255));<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />DeltaThrottle:104: error: 'Joystick_' has not been declared<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::YAXIS, map(yVal, -100, 100, 0, 255));<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />DeltaThrottle:105: error: 'Joystick_' has not been declared<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::ZAXIS, map(zVal, -100, 100, 0, 255));<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />DeltaThrottle:113: error: 'Joystick' was not declared in this scope<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::XAXIS, 0);<br /><br />&nbsp; &nbsp; &nbsp;^<br /><br />DeltaThrottle:113: error: 'Joystick_' has not been declared<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::XAXIS, 0);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />DeltaThrottle:114: error: 'Joystick_' has not been declared<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::YAXIS, 0);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />DeltaThrottle:115: error: 'Joystick_' has not been declared<br /><br />&nbsp; &nbsp; &nbsp;Joystick.SetAxis(Joystick_::ZAXIS, 0);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br /><br />DeltaThrottle:123: error: 'Joystick' was not declared in this scope<br /><br />&nbsp; &nbsp;Joystick.ReportState();<br /><br />&nbsp; &nbsp;^<br /><br />exit status 1<br />'Joystick' was not declared in this scope<br /><br />This report would have more information with<br />&quot;Show verbose output during compilation&quot;<br />option enabled in File -&gt; Preferences.<br /></code></dd></dl><br /><br />And I am not sure what to do or how to proceed because I simply have no idea of what is wrong. I tried googling but I simply lack the basics. Please help</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Compiler Issues</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue Jun 21, 2016 3:17 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">You need to make sure you're using a version of the code that's compatible with newer Arduino IDEs for one. The original code on GitHub isn't compatible with newer versions. Check some of the threads here for information and links to a fork with updated code.  Also, make sure you're following the instructions and getting the extra libraries put in the proper place. It looks like the stuff from here isn't being found: <!-- m --><a class="postlink" href="https://github.com/zdayton/DeltaThrottle/tree/master/Code">https://github.com/zdayton/DeltaThrottl ... aster/Code</a><!-- m --></div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>2</strong> of <strong>2</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>