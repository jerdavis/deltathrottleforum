<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>The Delta Throttle &bull; View topic - Alternatives to potentiometers - hall sensors, etc</title>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>The Delta Throttle</h1>
		<p><br /><a href="http://deltathrottle.com/forums/">http://deltathrottle.com/forums/</a></p>

		<h2>Alternatives to potentiometers - hall sensors, etc</h2>
		<p><a href="http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=122">http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=122</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>2</strong> of <strong>4</strong></div>
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri May 01, 2015 1:27 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">Who is kind enough to double check this board for me?<br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/AS5600%20top_zpsqlkswj3b.jpg" alt="Image" /><br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/AS5600%20bottom_zpstycatas0.jpg" alt="Image" /><br /><br />For use with 3 wire mode<br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/Untitled_zpsjp8txm3f.png" alt="Image" /><br /><br /><a href="https://youtu.be/Dwc4hFgNP5I?t=128" class="postlink">https://youtu.be/Dwc4hFgNP5I?t=128</a></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon May 11, 2015 6:14 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">Above custom boards arrived today. I should have first results be tomorrow.<br /><br />Stay tuned!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 5:35 am</strong></div>
				<div class="author">by <strong>zdayton</strong></div>
				<div class="content">Just finished soldering mine.<br /><br /><img src="http://www.imgur.com/jUQx2qe.jpg" alt="Image" /><br /><br />And arms coming off the press soon.<br /><br /><img src="http://www.imgur.com/rxQwf3v.jpg" alt="Image" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 7:49 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">What kind of connector are you going to use to mount the boards?</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 11:11 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">Here is my version for AMS AS5600<br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/20150512_140253_zpss6rtvaoq.jpg" alt="Image" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 2:57 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">Both looking fantastic! I haven't gotten to testing my sensors yet. SC-Maik, how much did your custom boards run? Would you be interested in sharing the schematic? I'd sort of like to try the 4 wire mode, but honestly the 3 wire is probably all we'd need. I don't know how much benefit there would be to being able to calibrate on-demand. I couldn't tell off hand if your board layout would work by default for 5v or if I'd have to tweak it? I need to review it again.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 3:46 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content"><blockquote><div><cite>jeruw wrote:</cite>Both looking fantastic! I haven't gotten to testing my sensors yet. SC-Maik, how much did your custom boards run? Would you be interested in sharing the schematic? I'd sort of like to try the 4 wire mode, but honestly the 3 wire is probably all we'd need. I don't know how much benefit there would be to being able to calibrate on-demand. I couldn't tell off hand if your board layout would work by default for 5v or if I'd have to tweak it? I need to review it again.</div></blockquote><br /><br />First off all, it works!<br /><br />I've got myself a 5V Pro Micro, so I am testing it with 5 volts atm. In order to work with 3.3V you have to solder a zero Ohm resistor at R1 (or a jumper wire).<br /><br />It can be calibrated on demand, using a jumper on J1 (or a switch). <br />Press throttle all the way down and place the jumper (or press a switch) for a second. That sets min position (0 volts). Take off jumper.<br />Pull throttle all the way up, place the jumper again for a second. That sets max position (5 volts). Take off jumper. <br />Calibrated!<br />Plan is to connect one common switch to all three boards, so I can calibrate all sensors at once.<br /><br />I am missing 2 things to assemble my throttle. 3D printed pcb holder and actobotic part to keep it in place. I should have them next week.<br /><br />Five (5) boards (2 layer/1.6 thickness/ Lead free) cost me 29$ plus shipping from PCBway.com. <br />DON'T choose DHL Express if you plan ordering from them. Shipping is too high (25-30$) and you will probably have to pay custom taxes as well.<br /><br />I will upload schematic later tonight.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 4:08 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">How do you plan to wire the jumper up for a common switch? Would that be a permanent fixture or something you'd plug in for calibration then remove? <br /><br />My thought for a board was to use the 4 wire 12c mode so that programing could be done without a mechanical switch. You could add the calibration code to the Arduino sketch and use a button mode to trigger the calibration sequence. Enter programming mode, push throttle down, press button, pull throttle up, press button, then it would exit programming mode. I'd use a 4 pin 90 degree connector so my wires could go straight down toward the base and be as low profile as possible. Then possibly put a shroud of some kind over the whole assembly to protect the PCB and wiring. For mounting the PCB I'd considered 2 or 3 holes in the PCB with threaded studs drilled and mounted in my upright. The PCB would mount directly to the upright centered over the shaft position. These could be female threaded studs that you'd screw the board to, or possibly male threaded rod with a nut threaded on to allow for some variation in alignment of the board - not sure if that's necessary.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 5:21 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">I was damn wrong and I had to find that out the hard way...<br /><br />You can program AS5600 on 3 wire more only ONCE, the first time you plug it in with PGO enabled.<br /><br />I've missed the small letters<br /><br /><blockquote class="uncited"><div>Note(s) and/or Footnote(s):<br />1. After step 5 the new setting is effective at the output.<br />2. If step 3 is not followed by step 5 no permanent write will be performed.<br />3. It is highly recommended to perform a functional test after the procedure.<br /><span style="font-weight: bold">4. This procedure can be executed only one time; the zero position and maximum angle can be reprogrammed only through the IÂ²C (Option A).</span><br />5. This procedure can be executed only if the presence of the magnet is detected (MD = 1).</div></blockquote><br /><br />Jeruw, as it seems your plan to use I2C mode is the best way to do it.<br />Back to my pcb drawing board...</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Alternatives to potentiometers - hall sensors, etc</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 12, 2015 5:38 pm</strong></div>
				<div class="author">by <strong>jeruw</strong></div>
				<div class="content">Ouch! That's unfortunate. It's strange to me that that is only a one time operation.</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>2</strong> of <strong>4</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>