<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />

<title>The Delta Throttle &bull; View topic - Code breakdown and explaination</title>

<link rel="alternate" type="application/atom+xml" title="Feed - The Delta Throttle" href="http://deltathrottle.com/forums/feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="http://deltathrottle.com/forums/feed.php?mode=topics" /><link rel="alternate" type="application/atom+xml" title="Feed - Forum - Discussion" href="http://deltathrottle.com/forums/feed.php?f=4" /><link rel="alternate" type="application/atom+xml" title="Feed - Topic - Code breakdown and explaination" href="http://deltathrottle.com/forums/feed.php?f=4&amp;t=9" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '10';
	var base_url = './viewtopic.php?f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.deltathrottle.com';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	};

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	};

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php@id=1&amp;lang=en&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />



</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="index.php@sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Board index" id="logo"></a>
				<h1>The Delta Throttle</h1>
				<p></p>
				<p class="skiplink"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#start_here">Skip to content</a></p>
			</div>

		
			<div id="search-box">
				<form action="search.php@sid=2da7d3261aa1b35db93cfc0fa069564e.html" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="text" maxlength="128" title="Search for keywords" class="inputbox search" value="Search…" onclick="if(this.value=='Search…')this.value='';" onblur="if(this.value=='')this.value='Search…';" />
					<input class="button2" value="Search" type="submit" /><br />
					<a href="search.php@sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="View the advanced search options">Advanced search</a> <input type="hidden" name="sid" value="2da7d3261aa1b35db93cfc0fa069564e" />

				</fieldset>
				</form>
			</div>
		

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="index.php@sid=2da7d3261aa1b35db93cfc0fa069564e.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="viewforum.php@f=1&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">Delta Throttle</a> <strong>&#8249;</strong> <a href="viewforum.php@f=4&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">Discussion</a></li>

				<li class="rightside"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="viewtopic.php@f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;view=print.html" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="faq.php@sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Frequently Asked Questions">FAQ</a></li>
				<li class="icon-register"><a href="ucp.php@mode=register&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">Register</a></li>
					<li class="icon-logout"><a href="ucp.php@mode=login&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Login" accesskey="x">Login</a></li>
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>

	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="viewtopic.php@f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">Code breakdown and explaination</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php@mode=reply&amp;f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="get" id="topic-search" action="search.php@sid=2da7d3261aa1b35db93cfc0fa069564e.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Search this topic…" onclick="if(this.value=='Search this topic…')this.value='';" onblur="if(this.value=='')this.value='Search this topic…';" />
				<input class="button2" type="submit" value="Search" />
				<input type="hidden" name="t" value="9" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="2da7d3261aa1b35db93cfc0fa069564e" />

			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			18 posts
			 &bull; <a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="viewtopic.php@f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;start=10.html">2</a></span>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p20" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=20&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 class="first"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p20">Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=20&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p20"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=68&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">chunks</a></strong> &raquo; Sat Jan 10, 2015 3:47 am </p>

			

			<div class="content">I am planning on building a delta throttle based off of your work, however I am fairly new to Arduino and coding of this nature, I am planning on using the code you have released but I would like to better understand how it all works, I've been reading up on forward kinematics and trying to wrap my head around the maths (I shined in English and History when at high school...). I was wondering if you wouldn't mind doing a detailed breakdown and explanation of your code? I understand this could be a lot of work and understand if its not possible for you to do so but it would be greatly appreciated if you could.</div>

			

		</div>

		
			<dl class="postprofile" id="profile20">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=68&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">chunks</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2</dd><dd><strong>Joined:</strong> Sat Jan 10, 2015 3:36 am</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p25" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=25&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p25">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=25&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p25"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a></strong> &raquo; Mon Jan 12, 2015 7:09 am </p>

			

			<div class="content">There is a really good explanation of delta kinematics on the Trossen robotics forum, which I used as a starting point for my code:<br /><!-- m --><a class="postlink" href="http://forums.trossenrobotics.com/tutorials/introduction-129/delta-robot-kinematics-3276/">http://forums.trossenrobotics.com/tutor ... tics-3276/</a><!-- m --><br /><br />I probably can't break down the whole thing, but some stuff you could conceivably need to change:<br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>//Geometry<br />float handle_rad = 1.75;&nbsp; &nbsp; &nbsp;// end effector<br />float base_rad = 1.75;&nbsp; &nbsp; &nbsp;// base<br />float pushrod_lng = 3.5;<br />float pivot_lng = 2.25;<br /><br />//Configuration<br />float deadzone = 0.1;&nbsp; // smaller values will be set to 0<br />int gain = 150;</code></dd></dl><br /><br />This is some configuration stuff.   You might want to tweak the deadzone to your liking.<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>&nbsp; &nbsp; &nbsp; &nbsp; pinMode(2,&nbsp; INPUT);<br />&nbsp; &nbsp; &nbsp; &nbsp; pinMode(3,&nbsp; INPUT);<br />&nbsp; &nbsp; &nbsp; &nbsp; pinMode(4,&nbsp; INPUT);<br />&nbsp; &nbsp; &nbsp; &nbsp; digitalWrite(2,HIGH);<br />&nbsp; &nbsp; &nbsp; &nbsp; digitalWrite(3,HIGH);<br />&nbsp; &nbsp; &nbsp; &nbsp; digitalWrite(4,HIGH);</code></dd></dl><br /><br />Setting up the digital IO.  If you add more than three buttons, you will need to configure the additional IO pins the same as these.<br /><br /><dl class="codebox"><dt>Code: <a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>&nbsp; &nbsp;xZero = 0;<br />&nbsp; &nbsp;yZero = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; zZero = zValue;</code></dd></dl><br /><br />Setting the zero point.  The X and Y zero points will always be the center, but the Z zero will be whatever the current Z position is when you first plug it in.<br /><br />Let me know if you have questions on something specific.</div>

			

		</div>

		
			<dl class="postprofile" id="profile25">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 81</dd><dd><strong>Joined:</strong> Wed Dec 24, 2014 6:20 am</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p26" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=26&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p26">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=26&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p26"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=68&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">chunks</a></strong> &raquo; Mon Jan 12, 2015 9:29 am </p>

			

			<div class="content">Are the lengths on the armatures fixed? ie. If I were to make either of the arms shorter/longer would adjustments need to be made within the code?</div>

			

		</div>

		
			<dl class="postprofile" id="profile26">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=68&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">chunks</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2</dd><dd><strong>Joined:</strong> Sat Jan 10, 2015 3:36 am</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p112" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=112&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p112">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=112&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p112"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a></strong> &raquo; Wed Jan 14, 2015 9:46 pm </p>

			

			<div class="content">You would want to change the values up at the top in the geometry section, pushrod_lng and pivotarm_lng.  You will also want to increase or decrease the gain accordingly.  If you make the device smaller, increase the gain, if you make it larger, decrease the gain.</div>

			

		</div>

		
			<dl class="postprofile" id="profile112">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 81</dd><dd><strong>Joined:</strong> Wed Dec 24, 2014 6:20 am</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p197" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=197&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p197">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=197&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p197"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a></strong> &raquo; Wed Mar 11, 2015 10:29 pm </p>

			

			<div class="content">My push rod length measured from ball center to center is 3.25 and my link arm is coming out around 2.2. I'm updating those values in the code, but it's not entirely clear to me if I need to mess with the *_rad values, and how much I should adjust gain. When I first plugged things in my Z axis didn't seem to be working correctly, it wouldn't register a change unless it was pushed very far down. Also, my X and Y are not at 0 when at rest. This may be something I need to adjust because my socket for the D shaft is not fixed to my pivot, I had to eyeball it to line it up.</div>

			

		</div>

		
			<dl class="postprofile" id="profile197">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Feb 17, 2015 3:10 pm</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p200" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=200&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p200">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=200&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p200"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a></strong> &raquo; Thu Mar 12, 2015 7:01 pm </p>

			

			<div class="content">Ok, I've got this hooked up and working in ED. Holy crap. What a tremendous difference! Combat flight feels so much better. The ship feels significantly more maneuverable.<br /><br />I have some drift along the x axis though, even with a dead zone. I'll need to keep tweaking things to see what to do about it. <br /><br />I also don't really know what to do with the Z axis. I tried clamping the throttle to my desk so I could pull up more effectively but I couldn't get much out of it. I can really only effectively do a negative z-axis move. Any thoughts on what settings I might adjust?</div>

			

		</div>

		
			<dl class="postprofile" id="profile200">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Feb 17, 2015 3:10 pm</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p201" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=201&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p201">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=201&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p201"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a></strong> &raquo; Thu Mar 12, 2015 7:44 pm </p>

			

			<div class="content">The way the code is set up, the z axis zero point is wherever the z axis is when you first plug it in.  What I do is this: rest my hand on the handle, not actively pressing down or up just resting my hand on the handle so the springs balance against the weight of my hand, then plug it in. <br /><br />Also, I recommend sticking it down with some double sided tape, or maybe glue a nice rubbery material to the base to hold it in place. Or just use clamps like you have.</div>

			

		</div>

		
			<dl class="postprofile" id="profile201">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 81</dd><dd><strong>Joined:</strong> Wed Dec 24, 2014 6:20 am</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p204" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p204">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p204"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a></strong> &raquo; Thu Mar 12, 2015 8:11 pm </p>

			

			<div class="content"><blockquote><div><cite>zdayton wrote:</cite>The way the code is set up, the z axis zero point is wherever the z axis is when you first plug it in.  What I do is this: rest my hand on the handle, not actively pressing down or up just resting my hand on the handle so the springs balance against the weight of my hand, then plug it in. <br /><br />Also, I recommend sticking it down with some double sided tape, or maybe glue a nice rubbery material to the base to hold it in place. Or just use clamps like you have.</div></blockquote><br /><br /><br />That makes sense. I think I saw a comment from you about that in your reddit post too. I'll give that a try tonight. I also saw some comment about adding a button to toggle the control to lock at 0,0,0. Did you make any progress on the code for that? I'd love to be able to lock it out for some actions. I absolutely loved flying with this thing in combat last night, but I did get myself blown up by a station trying to leave. Oops.</div>

			

		</div>

		
			<dl class="postprofile" id="profile204">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Feb 17, 2015 3:10 pm</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p249" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=249&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p249">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=249&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p249"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a></strong> &raquo; Thu Mar 19, 2015 8:45 pm </p>

			

			<div class="content">I think I may have some code to track a button's state to act as a toggle for disabling flight control and locking all axis to zero. I haven't tested it in flight yet but I'll try tonight.<br /><br />I pushed the code to a fork on GitHub. You can review it here:<br /><br /><!-- m --><a class="postlink" href="https://github.com/jerdavis/DeltaThrottle/commit/3a6e5d51c335464f0f4c38ee7b447822ebd1e826">https://github.com/jerdavis/DeltaThrott ... 22ebd1e826</a><!-- m --></div>

			

		</div>

		
			<dl class="postprofile" id="profile249">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=82&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">jeruw</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Feb 17, 2015 3:10 pm</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p251" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="posting.php@mode=quote&amp;f=4&amp;p=251&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p251">Re: Code breakdown and explaination</a></h3>
			<p class="author"><a href="viewtopic.php@p=251&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#p251"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a></strong> &raquo; Thu Mar 19, 2015 10:25 pm </p>

			

			<div class="content">Just a couple problems to fix. <br />1. you are treating the toggle button like  a normal button and pushing it through to windows. Don't know if that was what you wanted. (That's what the joy_st.buttons line does) .<br />2. And most importantly, your need a rising edge trigger for your toggle button, otherwise it will toggle continuously every iteration of the loop.  This is pseudo code but you want something like:<br />If (togglebutton == 1 and togglebuttonlast == 0)<br />    Toggle state<br />Togglebuttonlast = togglebutton</div>

			

		</div>

		
			<dl class="postprofile" id="profile251">
			<dt>
				<a href="memberlist.php@mode=viewprofile&amp;u=2&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" style="color: #AA0000;" class="username-coloured">zdayton</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 81</dd><dd><strong>Joined:</strong> Wed Dec 24, 2014 6:20 am</dd>

		</dl>
	

		<div class="back2top"><a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php@f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		<a href="viewtopic.php@f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;start=10.html" class="right-box right">Next</a>
		<label>Display posts from previous: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
		<label>Sort by <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select> <input type="submit" name="sort" value="Go" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php@mode=reply&amp;f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			18 posts
			 &bull; <a href="viewtopic.php@p=204&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html#" onclick="jumpto(); return false;" title="Click to jump to page…">Page <strong>1</strong> of <strong>2</strong></a> &bull; <span><strong>1</strong><span class="page-sep">, </span><a href="viewtopic.php@f=4&amp;t=9&amp;sid=2da7d3261aa1b35db93cfc0fa069564e&amp;start=10.html">2</a></span>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php@f=4&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html" class="left-box left" accesskey="r">Return to Discussion</a></p>

	<form method="post" id="jumpbox" action="http://173.236.165.188/forums/viewforum.php?sid=2da7d3261aa1b35db93cfc0fa069564e" onsubmit="if(this.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="1">Delta Throttle</option>
			
				<option value="4" selected="selected">&nbsp; &nbsp;Discussion</option>
			
				<option value="5">&nbsp; &nbsp;Feedback</option>
			
				<option value="8">&nbsp; &nbsp;Build progress and showcase</option>
			
				<option value="3">Games</option>
			
				<option value="6">&nbsp; &nbsp;Star Citizen</option>
			
				<option value="7">&nbsp; &nbsp;Elite:Dangerous</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>


	<h3>Who is online</h3>
	<p>Users browsing this forum: No registered users and 0 guests</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php@sid=2da7d3261aa1b35db93cfc0fa069564e.html" accesskey="h">Board index</a></li>
				
			<li class="rightside"><a href="memberlist.php@mode=leaders&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">The team</a> &bull; <a href="ucp.php@mode=delete_cookies&amp;sid=2da7d3261aa1b35db93cfc0fa069564e.html">Delete all board cookies</a> &bull; All times are UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<div class="copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
		
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php@cron_type=tidy_database&amp;sid=2da7d3261aa1b35db93cfc0fa069564e" width="1" height="1" alt="cron" />
</div>

</body>
</html>