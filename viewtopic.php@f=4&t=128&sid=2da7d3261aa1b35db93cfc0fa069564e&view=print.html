<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />

<title>The Delta Throttle &bull; View topic - Throttle geometry</title>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>The Delta Throttle</h1>
		<p><br /><a href="http://deltathrottle.com/forums/">http://deltathrottle.com/forums/</a></p>

		<h2>Throttle geometry</h2>
		<p><a href="http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=128">http://deltathrottle.com/forums/viewtopic.php?f=4&amp;t=128</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>2</strong></div>
		
			<div class="post">
				<h3>Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun May 17, 2015 5:29 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">After doing zillion redesigns, I've noticed the following lines in arduino code<br /><br /><blockquote class="uncited"><div>//Geometry<br />float handle_rad = 1.75;     // end effector<br /><span style="font-weight: bold">float base_rad = 1.75;     // base</span><br />float pushrod_lng = 3.5;<br />float pivot_lng = 2.25;</div></blockquote><br /><br />From what I can understand, base_rad is the radius of the circle that the three pivot arms create <span style="font-weight: bold">while at 90 degrees</span>.<br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/Assem2_zpst0wy0lki.jpg" alt="Image" /><br /><br />If I am wrong and base_rad is the the radius of the circle that the three pivot arms create <span style="font-weight: bold">while at 60 degrees (neutral position)</span>, why handle_rad has the same value (1.75in)?<br /><br />Also pivot arm actual length is 2.175in, while pivot_lng is set to 2.25in.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon May 18, 2015 2:03 pm</strong></div>
				<div class="author">by <strong>mike43110</strong></div>
				<div class="content">Try the proper values and see the behaviour change.<br /><br />I will take a look at the code later today/tomorrow and compare it with my textbook - this is after all just a delta manipulator.<br /><br />Handle_rad should be the radius of the circle which the connecting rods at the top make i.e. the bottom and the top circle.<br /><br />If the values are incorrect the forward kinematics will be incorrect and this will cause undefined behaviour - the position the arm is in according to the sensors and reality will differ.<br />Forward kinematics have to be as close to correct as possible.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Mon May 18, 2015 10:33 pm</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">I will change values and report back.<br /><br />Check picture below as well please<br /><br /><img src="http://i115.photobucket.com/albums/n309/NismoN15/Delta%20Throttle%20Assembly_zpsslousicr.jpg" alt="Image" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Tue May 19, 2015 11:46 am</strong></div>
				<div class="author">by <strong>mike43110</strong></div>
				<div class="content">Ok!<br />I read through the code and checked on everything I could.<br />So, importantly for me the values don't need to be in inches! Just input it in centimeters or millimetres and change gain appropriately i.e. roughly 10 for mm, 100 for cm and 150 for in. Though you can also get away with a gain of 1, it just makes the mapping a little less pretty.<br /><br />So what I would do is comment out the lines constraining xVal, y and z and then look at the raw numbers before being constrained i.e. debug mode.<br />Of course this is after having the numbers correct.<br />The reason why is that your gain probably will need to change. Constrain is just an upper and lower bound for the values. That means that your extremities may not necessarily be defined as the constrain function is limiting them! Once you have found your optimum gain value you can put the constrain back in. I recommend that the gain has you maxing out just before the limitations or to wherever you feel it is the most comfortable remembering that longer travel = more accuracy.<br /><br />I think that's all I wanted to say? I want to redesign the arms to use tension springs for centring similar to the joystick I am designing - tension springs are easier to source and I can get a FAR stronger centring force.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Wed May 20, 2015 9:34 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">Thank you for the time spent to review code and giving your feedback. Very helpful comments.<br /><br />Hopefully I will put those to a test this weekend once last actobotic parts arrive to mount AS5600 sensors.<br /><br /><blockquote><div><cite>mike43110 wrote:</cite>I recommend that the gain has you maxing out just before the limitations or to wherever you feel it is the most comfortable remembering that longer travel = more accuracy.</div></blockquote><br /><br />Regarding above comment, I have to add that on my first build (with pots) I have noticed values x/y/z maxing out before throttle physically reach it's end limits. I had about 15-20 more millimeters of traveling distance to spare on each axis, which personaly I don't want to.<br /><br /><blockquote><div><cite>mike43110 wrote:</cite>I want to redesign the arms to use tension springs for centring similar to the joystick I am designing - tension springs are easier to source and I can get a FAR stronger centring force.</div></blockquote><br /><br />Yeah! More reasons to continue redesigning! I don't want to finish my throttle, I want to keep modding it <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /><br /><br />Another idea I had is to add &quot;something&quot; to give me some extra resistance (physical feedback) near throttle traveling limits. When I reach those limits and keep pushing/pulling to have ship boost activating.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu May 21, 2015 3:52 am</strong></div>
				<div class="author">by <strong>mike43110</strong></div>
				<div class="content">I am done with the gimbal of the joystick. Now off to give it a shell and a handle! Z-axis twist is a little painful to do the way I want to as it makes for quite a large palm rest (depending on spring size selected of course). I think I will get a feel first for the right dimensions on the stick then move it over to the delta once sorted.<br /><br />ALTHOUGH - I will get started on redrawing the delta soon. I am making my own bearing pillow-blocks as I want to have the tension springs mounted on the pillow blocks. I still need to decide if they should be 4DOF or 5DOF restricted when inserting. The pillow blocks will all have an extra say 20mm piece added onto it for mounting purposes. I plan to have that on the stick and throttle. I will need to make sure my printer is set up very well before printing of course!<br />Thanks for pointing this stuff out though. I may have forgotten it myself and had to waste time looking for it! I did a BEng and now am doing an MSc in Comp. Sci. so code is my thing. These kind of things are my speciality in fact. So it was actually fun to go and look through the code.<br /><br />I need to make my pillow block which holds the pivot arm at 60 degrees still... Not difficult. Just want to do it in a way that is space efficiently.<br /><br />I have an idea on those limits! If you extend the bottom of the pivot arm, you can place physical limits on the throttle by mounting a switch. That would get you the feedback desired! It could swing into a small compression spring that activates a button or it could just hit against the button requiring you to give it a little oomph to press it. A 5N switch should suffice along with a decent centring force.<br /><br />It is too fun to keep modding this! I am waiting for all my parts to arrive before I can start my own build but I am trying to fix the things I would personally dislike for myself. I wouldn't want the boost on the limits for example. I plan on using a thumb button for that. I plan on having a throttle slider too on the thumb so I can make smart use of the strafing capabilities of the delta in combination with the match speed command.<br />When I fly my hull B I won't need the Delta until I do a landing. Then I may kiss it when done <img src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /> I don't know how agile it will be when empty. I can't imagine it being anything nice when full!</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri May 22, 2015 6:01 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content"><blockquote><div><cite>mike43110 wrote:</cite>When I fly my hull B I won't need the Delta until I do a landing. Then I may kiss it when done <img src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /> I don't know how agile it will be when empty. I can't imagine it being anything nice when full!</div></blockquote><br /><br />You just found yourself an escort pilot <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri May 22, 2015 6:37 am</strong></div>
				<div class="author">by <strong>mike43110</strong></div>
				<div class="content"><blockquote><div><cite>SC-Maik wrote:</cite><blockquote><div><cite>mike43110 wrote:</cite>When I fly my hull B I won't need the Delta until I do a landing. Then I may kiss it when done <img src="images/smilies/icon_e_biggrin.gif" alt=":D" title="Very Happy" /> I don't know how agile it will be when empty. I can't imagine it being anything nice when full!</div></blockquote><br /><br />You just found yourself an escort pilot <img src="images/smilies/icon_e_smile.gif" alt=":)" title="Smile" /></div></blockquote><br /><br />Haha, can make a delta only squad! Looking forward to hearing how everything compares.</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri May 22, 2015 7:26 am</strong></div>
				<div class="author">by <strong>SC-Maik</strong></div>
				<div class="content">We can start by making a Raidcall/Ventrilo/TS3 channel</div>
			</div>
			<hr />
		
			<div class="post">
				<h3>Re: Throttle geometry</h3>
				<div class="date"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sat Aug 15, 2015 8:12 am</strong></div>
				<div class="author">by <strong>Ghostpilot</strong></div>
				<div class="content"><blockquote><div><cite>SC-Maik wrote:</cite>I will change values and report back.</div></blockquote>So what was the result after setting the pivot length to the actual length of the pivot arm?<br />Any changes in response or sensitivity?</div>
			</div>
			<hr />
		
	</div>

	<div id="page-footer">
		<div class="page-number">All times are UTC <br />Page <strong>1</strong> of <strong>2</strong></div>
		<div class="copyright">Powered by phpBB&reg; Forum Software &copy; phpBB Group<br />https://www.phpbb.com/</div>
	</div>
</div>

</body>
</html>